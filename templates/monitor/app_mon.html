{% extends "monitor/dashboard.html" %}
  {% block content-panel  %}
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h2 class="page-header">App monitor</h2>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
            <div class="panel panel-default">
            <div class="panel-heading">查询条件</div>
            <div class="panel-body">
                <form id="formSearch" class="form-horizontal">
                    <div class="form-group" style="margin-top:15px">
                        <label class="control-label col-sm-1"  for="group_id" >子系统:</label>
                        <div class="col-sm-3">
                             <select id='group_id' class="form-control" onchange="javascript:location.href(this.options[this.selectedIndex].value)" onkeydown ="enterSubmit(event)" >
                                    <option value ="all">未分组</option>
                                     {% for sys in subsys %}
                                    <option value ="{% url 'apps' %}?selected_gid={{ sys.id }}">{{ sys.name }} </option>
                                     {% endfor %}
                            </select>
                        </div>
                        <label class="control-label col-sm-1" for="txt_search_statu">应用类别:</label>
                        <div class="col-sm-3">
                              <select id='middleware' class="form-control">
                                                    <option value ="all">所有</option>
                                                      {% for item in middleware %}
                                                          <option value ="{{item.name}}"></option>
                                                          <option value ="{{item.name}}"></option>
                                                          <option value ="{{item.name}}"></option>
                                                          {% endfor %}
                                                  </select>
                        </div>
                        <div class="col-sm-4" style="text-align:left;">
                            <button type="button" style="margin-left:50px" id="btn_query" class="btn btn-primary">查询</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>       
        <!-- <table id="tb_departments"></table> -->
    
        <div >
       
        <div id="toolbar">
            <div class="form-inline" role="form">
               <button id="add" type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal">新增</button>
               <!--  <button type="button"   style="margin-left:50px" id="btn_query" class="btn btn-success pull-right" onclick="SubmitTask()" >执行任务</button> -->
            </div>
        </div>
        
        <table data-toggle="table"
             data-show-columns="true" 
             data-toolbar="#toolbar" 
             data-search="true" 
             data-show-toggle="true"
             data-pagination="true"
             data-reorderable-columns="true">
            <thead>
            <tr>
                  <th data-field="id" data-sortable="true">ID</th>
                  <th data-field="appname" data-sortable="true">应用</th>
                  <th data-field="package" data-sortable="true">应用包名</th>
                  <th data-field="path" data-sortable="true">安装路径</th>
                  <th data-field="subsys" data-sortable="true">子系统</th>
                  <th data-field="server" data-sortable="true">服务器</th>
                  <th data-field="memo" data-sortable="true">描述</th>
            </tr>
            </thead>
                 <tbody>
        {% for h in app_list %}
        <tr>
           <td>{{ forloop.counter }}</td>
                  <td>{{ h.app_name }}</td>
                  <td>{{ h.app_package }}</td>
                  <td>{{ h.app_path }}</td>
                  <td>{{ h.subsys_name }}</td>
                  <td>{{ h.app_host }}</td>
                  <td>{{ h.memo }}</td>
        </tr>                                                                                                                                                                  
     {% endfor %}
    </tbody>                                                                                                                                                                   
        </table>                                                                                                                                                               
    </div>                   

                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->
   
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					&times;
				</button>
				<h4 class="modal-title" id="myModalLabel">
					模态框（Modal）标题
				</h4>
			</div>
			<div class="modal-body">
				在这里添加一些文本
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">关闭
				</button>
				<button type="button" class="btn btn-primary">
					提交更改
				</button>
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal -->
</div>

{% endblock %}

